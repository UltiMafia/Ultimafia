/* Note from nearbear: I borrowed styling choices from this codepen so I'm crediting it */

/* Copyright (c) 2025 by Silke V (https://codepen.io/silkine/pen/QWBxVX)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
*/

.newspaper {
  display: block;
  position: relative;

  flex: none;

  width: 324px;
  padding: 8px;
  margin: 8px auto;

  font-family: "Droid Serif", serif;
  font-size: 18px;
  background-color: #f9f7f1;
  color: #2f2f2f;

  border: 4px solid #000000;

  background-image: url("/src/images/paper.png");
  background-repeat: no-repeat;
  background-position: center top;
  background-size: cover;
  background-clip: border-box;

  background-size: auto;
  background-repeat: no-repeat;
  background-position: center top;
  overflow: hidden;
}

.newspaper .newspaper-title {
  display: block;
  overflow: hidden;

  max-height: 100px;
  width: 100%;

  margin-top: 8px;
  margin-bottom: 8px;

  font-family: "Playfair Display", serif;
  font-weight: 900;
  font-size: 28px;

  text-transform: uppercase;
  text-align: center;
}

.newspaper .newspaper-subheader {
  border-bottom: 2px solid #2f2f2f;
  border-top: 2px solid #2f2f2f;

  text-transform: uppercase;
  text-align: center;
}

.newspaper .newspaper-no-one-died {
  margin-top: 8px;
  text-align: center;
}

.newspaper .newspaper-paragraph {
  /* display: inline-block; */
  overflow: hidden;

  /* text-wrap: balance; */
  /* text-align: justify;
    hyphens: auto; */
}

.newspaper .obituary {
  margin-top: 8px;
}

.newspaper .obituary-header {
  font-weight: 700;
  font-size: 20px;
  text-transform: uppercase;
  /* text-align: right; */
}

.newspaper .newspaper-emphasis {
  font-weight: 900;
  font-style: italic;
}

.newspaper .obituary-avatar {
  display: inline-block;

  -webkit-filter: sepia(80%) contrast(1);
  filter: sepia(80%) grayscale(1) contrast(1);
  mix-blend-mode: multiply;
}

.newspaper .obituary-avatar.win-avatar-grid {
  display: grid;
  gap: 8px; /* Space between grid items */
  flex-shrink: 0;

  /* No greyscale for win avatars */
  -webkit-filter: none !important;
  filter: none !important;
  mix-blend-mode: normal;
}

/* Ensure avatars within win grid don't overflow their cells */
.newspaper .obituary-avatar.win-avatar-grid > .win-avatar-cell {
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* Constrain avatar size within win grid cells */
.newspaper .obituary-avatar.win-avatar-grid .win-avatar-cell > .avatar {
  width: var(--target-avatar-size, 80px) !important;
  height: var(--target-avatar-size, 80px) !important;
  max-width: 100%;
  max-height: 100%;
  flex-shrink: 0;
}

/* Ensure win message text has proper spacing and doesn't overlap */
.newspaper .win-message-text {
  padding-left: 0; /* Remove any default padding that might cause issues */
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.newspaper .obituary-avatar.win-avatar-grid > * {
  /* Ensure child avatars don't have filters */
  -webkit-filter: none !important;
  filter: none !important;
}

.newspaper .obituary-role {
  display: inline-block;

  width: 100px;
  height: 100px;

  background-color: #acacac;

  -webkit-filter: sepia(80%) contrast(1);
  filter: sepia(80%) grayscale(1) contrast(1) brightness(80%);
  mix-blend-mode: multiply;
}

.newspaper .emote {
  -webkit-filter: sepia(80%) contrast(1);
  filter: contrast(1) brightness(80%);
  mix-blend-mode: multiply;
}
